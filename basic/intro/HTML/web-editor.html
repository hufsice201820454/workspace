<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª¨ë˜ ì›¹ ì—ë””í„°</title>
  <style>
    #toolbar select, #toolbar input[type="color"], #toolbar button {
      margin-right: 8px;
      padding: 4px 8px;
    }
    #editor {
      border: 1px solid #ccc;
      min-height: 200px;
      padding: 10px;
      margin-top: 10px;
    }
    #output {
      white-space: pre-wrap;
      border: 1px dashed #aaa;
      padding: 10px;
      margin-top: 15px;
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>

<h2>ğŸ“ ëª¨ë˜ ì›¹ ì—ë””í„°</h2>

<div id="toolbar">
  <select id="styleSelect">
    <option value="">--ìŠ¤íƒ€ì¼--</option>
    <option value="bold">êµµê²Œ</option>
    <option value="italic">ê¸°ìš¸ì„</option>
    <option value="underline">ë°‘ì¤„</option>
  </select>

  <input type="color" id="colorPicker" title="ê¸€ì ìƒ‰ìƒ ğŸ¨">

  <button onclick="saveContent()">ì €ì¥</button>
</div>

<div id="editor" contenteditable="true" spellcheck="true">
  ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê³ , ì„ íƒ í›„ ìŠ¤íƒ€ì¼ì„ ì ìš©í•´ë³´ì„¸ìš”.
</div>

<h3>ğŸ“„ HTML ê²°ê³¼</h3>
<div id="output"></div>

<script>
  const editor = document.getElementById('editor');
  const styleSelect = document.getElementById('styleSelect');
  const colorPicker = document.getElementById('colorPicker');

  function applyStyle(type, value = null) {
    const selection = window.getSelection();
    if (!selection.rangeCount) return;

    const range = selection.getRangeAt(0);

    if (range.collapsed) {
      alert('í…ìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”!');
      return;
    }

    // ë˜í•‘ìš© span
    const span = document.createElement('span');

    // ìŠ¤íƒ€ì¼ ì ìš©
    switch (type) {
      case 'bold':
        span.style.fontWeight = 'bold';
        break;
      case 'italic':
        span.style.fontStyle = 'italic';
        break;
      case 'underline':
        span.style.textDecoration = 'underline';
        break;
      case 'color':
        span.style.color = value;
        break;
    }

    span.appendChild(range.extractContents());
    range.deleteContents();
    range.insertNode(span);

    // ì„ íƒ í•´ì œ
    selection.removeAllRanges();
    selection.addRange(range.cloneRange());
  }

  // ìŠ¤íƒ€ì¼ ì„ íƒ ì´ë²¤íŠ¸
  styleSelect.addEventListener('change', function () {
    const style = this.value;
    if (style) {
      applyStyle(style);
      this.value = ''; // ì´ˆê¸°í™”
    }
  });

  // ìƒ‰ìƒ ì„ íƒ ì´ë²¤íŠ¸
  colorPicker.addEventListener('change', function () {
    applyStyle('color', this.value);
  });

  // ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ
  function saveContent() {
    const content = editor.innerHTML;
    document.getElementById('output').textContent = content;
  }
</script>

</body>
</html>
